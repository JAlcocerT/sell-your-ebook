---
import { Image } from 'astro:assets';
import { book, hero, images, conditionalLogic } from '../config.json';
---

<main
  class='mx-auto max-w-screen-xl px-4 mb-8 mt-12 sm:mt-12 sm:mb-12 sm:px-6 md:mt-32 md:mb-20 xl:mt-23 xl:mb-24'
>
  <div class='lg:grid lg:grid-cols-12 lg:gap-8'>
    <div class='mb-12 md:max-w-1xl md:mx-auto lg:col-span-8'>
      {
        conditionalLogic.showAmazonTag && (
          <div class='text-base uppercase tracking-wide mb-4'>
            <Image
              class='inline h-5 relative'
              style='top:3px'
              src={images.hero.amazonLogo}
              alt='amazon.com'
              width={300}
              height={480}
              loading={'eager'}
            />{' '}
            {hero.amazonTag}
          </div>
        )
      }

      <h1
        class='mt-1 text-4xl tracking-tight leading-10 font-extrabold text-gray-900 sm:leading-none sm:text-6xl lg:text-5xl xl:text-6xl uppercase'
      >
        {hero.title.split(' ').slice(0, 2).join(' ')}<!-- -->&nbsp;<br class='hidden md:inline' /><span
          class='underline'>{hero.title.split(' ').slice(2).join(' ')}</span
        >
      </h1>
      {hero.description.map((paragraph) => (
        <p class='mt-3 text-base text-gray-500 sm:mt-5 sm:text-xl lg:text-lg xl:text-xl font-body'>
          {paragraph}
        </p>
      ))}
      <div>
        <div class='mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start'>
          <div>
            <a
              href={hero.urls.buyBook}
              target='_blank'
              class='w-full flex items-center justify-center px-8 py-3 border border-transparent text-base leading-6 rounded-md font-semibold text-black bg-book-theme hover:bg-yellow-200 focus:outline-none transition duration-300 ease-in-out md:py-4 md:text-lg md:px-10'
              >{hero.buttons.buyBook}</a
            >
          </div>
          {
            conditionalLogic.showBuyAudiobookButton && (
              <div class='mt-3 sm:mt-0 sm:ml-3'>
                <a
                  href='#audiobook'
                  class='w-full flex items-center justify-center px-8 py-3 border border-transparent text-base leading-6 rounded-md font-semibold text-white bg-book-gray hover:bg-gray-800 focus:outline-none transition duration-300 ease-in-out md:py-4 md:text-lg md:px-10'
                >
                  {hero.buttons.buyAudiobook}
                </a>
              </div>
            )
          }
        </div>
        {conditionalLogic.showDownloadLink && (
          <p class='mt-3 text-sm text-book-gray sm:mt-5 sm:text-base'>
            Ou <a
              download=''
              href='/static/ebook-chapter-1.pdf'
              class='underline hover:bg-book-yellow transition ease-in-out duration-300'
              >{hero.buttons.downloadChapter}</a
            > {hero.buttons.downloadChapterSuffix}
          </p>
        )}
      </div>
    </div><div
      class='mt-12 relative sm:max-w-lg sm:mx-auto lg:mt-0 lg:max-w-none lg:mx-0 lg:col-span-4 lg:flex lg:items-center'
    >
      <a class='book-container' href='#ebook'
        ><div class='book'>
          <Image
            src={images.hero.cover}
            width={300}
            height={600}
            alt={book.title}
            format={'avif'}
            loading={'eager'}
          />
        </div>
      </a>
    </div>
  </div>
</main>
